AWSTemplateFormatVersion: 2010-09-09
Resources: 
  BastionVPC:
    Type:  AWS::EC2::VPC
    Properties: 
      CidrBlock: 10.0.0.0/16
  
  BastionSubnet:
    Type: AWS::EC2::Subnet
    Properties:
      CidrBlock: 10.0.0.0/24
      VpcId: !Ref BastionVPC
      
  InternetGateway:
    Type: AWS::EC2::InternetGateway
    Properties: {}
    
  EC2VPC:
    Type: AWS::EC2::VPCGatewayAttachment
    Properties:
      VpcId: !Ref BastionVPC
      InternetGatewayId: !Ref InternetGateway
      
  BastionHost:
    Type: AWS::EC2::Instance
    Properties:
      InstanceType: t2.micro
      ImageId: ami-0a887e401f7654935
      NetworkInterfaces: 
      - AssociatePublicIpAddress: True
        DeleteOnTermination: True
        DeviceIndex: 0
        SubnetId: !Ref BastionSubnet
    DependsOn:
      - BastionRoute


  BastionTable: 
    Type: AWS::EC2::RouteTable
    Properties: 
      VpcId: !Ref BastionVPC
    DependsOn:
      - BastionSubnet
 
 
  BastionRoute:
    Type: AWS::EC2::Route
    Properties: 
      RouteTableId: !Ref BastionTable
      DestinationCidrBlock: 0.0.0.0/0
      GatewayId: !Ref InternetGateway



---------------------------------------
Above line is working
--------------------------------------- 

  BastionGatewayRouteTableAssociation:    
    Type: AWS::EC2::GatewayRouteTableAssociation
    Properties: 
      RouteTableId: !Ref RouteTable
      GatewayId: !Ref InternetGateway 
    
    BastionGatewayRouteTableAssociation	CREATE_FAILED	
    Route table contains unsupported route destination. 
    The unsupported route destination is less specific
    than or non-overlapping with VPC local CIDR. 
    (Service: AmazonEC2; Status Code: 400; 
    Error Code: RouteNotSupported; 
    Request ID: acc00e40-f8d3-456e-ad82-cc06a5508e00)
    
    
    
